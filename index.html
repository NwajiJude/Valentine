<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>For Pamela üíñ</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --pink1:#ffe0ef;
  --pink2:#ffc1dc;
  --accent:#ff5fa2;
  --card:#ffffffcc;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--pink1),var(--pink2));
  font-family:'Quicksand',system-ui,sans-serif;
  overflow:hidden;
  color:#7a003d;
}

#confettiCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:999;
}

.card{
  width:min(720px,92vw);
  padding:36px 28px;
  background:var(--card);
  backdrop-filter:blur(10px);
  border-radius:28px;
  text-align:center;
  box-shadow:0 20px 60px rgba(255,95,162,.25);
  animation:cardIn .7s ease;
}

@keyframes cardIn{
  from{transform:translateY(20px) scale(.95);opacity:0}
  to{transform:none;opacity:1}
}

h1{
  font-size:clamp(28px,4vw,48px);
  background:linear-gradient(45deg,#ff5fa2,#ff93c7);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin:0 0 20px;
  text-shadow:0 6px 18px rgba(255,95,162,.3);
}

.button-zone{
  position:relative;
  width:min(520px,92%);
  height:150px;
  margin:0 auto;
}

button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 30px;
  font-size:18px;
  font-weight:700;
  border-radius:999px;
  border:none;
  cursor:pointer;
  transition:.15s ease;
  box-shadow:0 10px 24px rgba(255,95,162,.35);
}

#yesBtn{
  left:18%;
  background:linear-gradient(45deg,#ff5fa2,#ff9fd0);
  color:white;
}

#yesBtn:hover{transform:translateY(-50%) scale(1.15)}

#noBtn{
  left:62%;
  background:#fff;
  color:#ff5fa2;
}

.hint{margin-top:12px;font-size:14px;opacity:.7}

.result{display:none;margin-top:20px;animation:pop .4s ease;}

@keyframes pop{from{transform:scale(.85);opacity:0}to{transform:none;opacity:1}}

.loveMessage{
  font-size:1.15rem;
  margin-top:12px;
  color:#c0005b;
}

.heart{
  position:fixed;
  font-size:20px;
  animation:floatUp 10s linear infinite;
  opacity:.7;
}

@keyframes floatUp{
  from{transform:translateY(110vh) scale(.6)}
  to{transform:translateY(-10vh) scale(1.2)}
}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<main class="card" id="card">
  <h1 id="question">Pamela, will you be my Valentine? üíñ</h1>

  <section class="button-zone" id="zone">
    <button id="yesBtn">Yes üíò</button>
    <button id="noBtn">No üôà</button>
  </section>

  <div class="hint" id="hint">No seems a little shy‚Ä¶ üòè</div>

  <section class="result" id="result">
    <h2>YAY!!! üéâüíû</h2>
    <img src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif" width="260" alt="Celebration">
    <p class="loveMessage" id="loveMessage"></p>
  </section>
</main>

<!-- üéµ Local MP3 file (GitHub Pages friendly) -->
<audio id="music" preload="auto">
  <source src="hitslab-love-love-story-music-270165.mp3" type="audio/mpeg">
</audio>

<script>
const zone = document.getElementById("zone");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const result = document.getElementById("result");
const hint = document.getElementById("hint");
const question = document.getElementById("question");
const loveMessage = document.getElementById("loveMessage");
const music = document.getElementById("music");

const messages = [
  "Babe, you make my world brighter every single day üí´",
  "I‚Äôm so lucky to have you in my life, love üíñ",
  "You‚Äôre my favourite person, today and always ü•∞",
  "Every moment with you feels special ‚ú®",
  "You + Me = Perfect ‚ù§Ô∏è"
];

const confettiCanvas = document.getElementById("confettiCanvas");
function resize(){
  const dpr = Math.max(1, window.devicePixelRatio || 1);
  confettiCanvas.width = innerWidth * dpr;
  confettiCanvas.height = innerHeight * dpr;
}
resize(); addEventListener("resize", resize);

const confettiInstance = confetti.create(confettiCanvas,{resize:false,useWorker:true});

function blast(){
  const end = Date.now() + 1600;
  (function frame(){
    confettiInstance({
      particleCount:12,
      spread:120,
      origin:{x:Math.random(),y:Math.random()*0.3}
    });
    if(Date.now() < end) requestAnimationFrame(frame);
  })();
}

let scale = 1;
function grow(){
  scale = Math.min(2.4, scale + .14);
  yesBtn.style.transform = `translateY(-50%) scale(${scale})`;
}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(px,py){
  const z = zone.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  let dx = (b.left + b.width/2) - px;
  let dy = (b.top + b.height/2) - py;
  let mag = Math.hypot(dx,dy) || 1;
  dx/=mag; dy/=mag;
  let nl = (b.left - z.left) + dx*150;
  let nt = (b.top - z.top) + dy*150;
  noBtn.style.left = clamp(nl,0,z.width-b.width) + "px";
  noBtn.style.top  = clamp(nt,0,z.height-b.height) + "px";
  grow();
}

zone.addEventListener("pointermove", e=>{
  const b = noBtn.getBoundingClientRect();
  const d = Math.hypot(
    (b.left + b.width/2) - e.clientX,
    (b.top  + b.height/2) - e.clientY
  );
  if(d < 140) moveNo(e.clientX, e.clientY);
});

yesBtn.onclick = () => {
  zone.style.display = "none";
  hint.style.display = "none";
  question.style.display = "none";
  result.style.display = "block";
  loveMessage.textContent = messages[Math.floor(Math.random()*messages.length)];
  blast();
  music.play().catch(()=>{});
};

// Floating hearts
setInterval(()=>{
  const h = document.createElement("div");
  h.className="heart";
  h.textContent = Math.random() > .5 ? "üíñ" : "‚ú®";
  h.style.left = Math.random()*100 + "vw";
  h.style.animationDuration = (6+Math.random()*6)+"s";
  h.style.fontSize = (16+Math.random()*28)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),12000);
},500);
</script>
</body>
</html>
