<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>For Pamela üíñ</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --blush:#ffe6f2;
  --pink:#ffd1e8;
  --accent:#ff77b7;
  --gold:#f7c873;
  --card:#ffffffdd;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:
    radial-gradient(circle at top, #fff6fb, var(--pink), #ffcce4);
  font-family:'Quicksand',system-ui,sans-serif;
  overflow:hidden;
  color:#7a0040;
}

#confettiCanvas{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:999;
}

.card{
  width:min(720px,92vw);
  padding:38px 30px;
  background:var(--card);
  backdrop-filter:blur(12px);
  border-radius:40px;
  text-align:center;
  box-shadow:
    0 25px 60px rgba(255,119,183,.25),
    inset 0 0 0 2px rgba(255,255,255,.6);
  animation:cardIn .9s ease;
}

@keyframes cardIn{
  from{transform:translateY(30px) scale(.95);opacity:0}
  to{transform:none;opacity:1}
}

h1{
  font-family:'Playfair Display',serif;
  font-size:clamp(28px,4vw,48px);
  background:linear-gradient(45deg,var(--accent),var(--gold),var(--accent));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin:0 0 24px;
  text-shadow:0 8px 22px rgba(255,119,183,.35);
}

.button-zone{
  position:relative;
  width:min(520px,92%);
  height:150px;
  margin:0 auto;
}

button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:18px 34px;
  font-size:18px;
  font-weight:700;
  border-radius:999px;
  border:none;
  cursor:pointer;
  transition:.18s ease;
  box-shadow:0 12px 30px rgba(255,119,183,.4);
}

#yesBtn{
  left:16%;
  background:linear-gradient(45deg,var(--accent),#ffb3dc);
  color:white;
}

#yesBtn:hover{
  transform:translateY(-50%) scale(1.18);
  box-shadow:0 16px 36px rgba(255,119,183,.6);
}

#noBtn{
  left:62%;
  background:white;
  color:var(--accent);
}

.hint{
  margin-top:12px;
  font-size:14px;
  opacity:.7;
}

.result{
  display:none;
  margin-top:20px;
  animation:pop .45s ease;
}

@keyframes pop{
  from{transform:scale(.8);opacity:0}
  to{transform:none;opacity:1}
}

.loveMessage{
  font-family:'Playfair Display',serif;
  font-size:1.25rem;
  margin-top:14px;
  color:#b00063;
}

.heart{
  position:fixed;
  font-size:22px;
  animation:floatUp 10s linear infinite;
  opacity:.75;
}

@keyframes floatUp{
  from{transform:translateY(110vh) scale(.6)}
  to{transform:translateY(-10vh) scale(1.3)}
}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<main class="card" id="card">
  <h1 id="question">Pamela, will you be my Valentine? üíñ</h1>

  <section class="button-zone" id="zone">
    <button id="yesBtn">Yes üíò</button>
    <button id="noBtn">No üôà</button>
  </section>

  <div class="hint" id="hint">No seems a little shy‚Ä¶ üòè</div>

  <section class="result" id="result">
    <h2 style="font-family:'Playfair Display',serif;">YAY!!! üéâüíû</h2>
    <!-- ‚ú® NEW ELEGANT ROMANTIC GIF -->
    <img 
      src="https://giphy.com/embed/3gvmxCCK0V2OMvUkVq" 
      width="260" 
      alt="Romantic celebration">
    <p class="loveMessage" id="loveMessage"></p>
  </section>
</main>

<!-- üéµ Local MP3 for GitHub Pages -->
<audio id="music" preload="auto">
  <source src="hitslab-love-love-story-music-270165.mp3.mp3" type="audio/mpeg">
</audio>

<script>
const zone = document.getElementById("zone");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const result = document.getElementById("result");
const hint = document.getElementById("hint");
const question = document.getElementById("question");
const loveMessage = document.getElementById("loveMessage");
const music = document.getElementById("music");

const messages = [
  "Pamela, you make my world softer, sweeter, and brighter üíó",
  "Every version of my future looks better with you in it ‚ú®",
  "You‚Äôre my favorite hello and my hardest goodbye ü•∞",
  "Life feels like a fairytale with you, Pamela üí´",
  "You + Me = A love story I never want to end üíï"
];

const confettiCanvas = document.getElementById("confettiCanvas");
function resize(){
  const dpr = Math.max(1, window.devicePixelRatio || 1);
  confettiCanvas.width = innerWidth * dpr;
  confettiCanvas.height = innerHeight * dpr;
}
resize(); addEventListener("resize", resize);

const confettiInstance = confetti.create(confettiCanvas,{resize:false,useWorker:true});

function blast(){
  const end = Date.now() + 1600;
  (function frame(){
    confettiInstance({
      particleCount:14,
      spread:130,
      origin:{x:Math.random(),y:Math.random()*0.3}
    });
    if(Date.now() < end) requestAnimationFrame(frame);
  })();
}

let scale = 1;
function grow(){
  scale = Math.min(2.4, scale + .14);
  yesBtn.style.transform = `translateY(-50%) scale(${scale})`;
}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(px,py){
  const z = zone.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  let dx = (b.left + b.width/2) - px;
  let dy = (b.top + b.height/2) - py;
  let mag = Math.hypot(dx,dy) || 1;
  dx/=mag; dy/=mag;
  let nl = (b.left - z.left) + dx*150;
  let nt = (b.top - z.top) + dy*150;
  noBtn.style.left = clamp(nl,0,z.width-b.width) + "px";
  noBtn.style.top  = clamp(nt,0,z.height-b.height) + "px";
  grow();
}

zone.addEventListener("pointermove", e=>{
  const b = noBtn.getBoundingClientRect();
  const d = Math.hypot(
    (b.left + b.width/2) - e.clientX,
    (b.top  + b.height/2) - e.clientY
  );
  if(d < 140) moveNo(e.clientX, e.clientY);
});

yesBtn.onclick = () => {
  zone.style.display = "none";
  hint.style.display = "none";
  question.style.display = "none";
  result.style.display = "block";
  loveMessage.textContent = messages[Math.floor(Math.random()*messages.length)];
  blast();
  music.play().catch(()=>{});
};

// Floating hearts & sparkles
setInterval(()=>{
  const h = document.createElement("div");
  h.className="heart";
  h.textContent = Math.random() > .5 ? "üíñ" : "‚ú®";
  h.style.left = Math.random()*100 + "vw";
  h.style.animationDuration = (6+Math.random()*6)+"s";
  h.style.fontSize = (18+Math.random()*30)+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),12000);
},450);
</script>
</body>
</html>
