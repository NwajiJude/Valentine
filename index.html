<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Be My Valentine üíñ</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root{
  --rose:#ff4fa3;
  --gold:#ffd166;
  --bg1:#140018;
  --bg2:#2a0033;
  --glass:rgba(255,255,255,.12);
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  font-family:'Segoe UI',system-ui,sans-serif;
  overflow:hidden;
  color:white;
}

#confettiCanvas{position:fixed;inset:0;pointer-events:none;z-index:999;}

.card{
  width:min(720px,92vw);
  padding:36px 30px;
  background:var(--glass);
  backdrop-filter:blur(18px);
  border-radius:30px;
  text-align:center;
  box-shadow:0 0 60px rgba(255,79,163,.35);
  animation:cardIn .9s ease;
}

@keyframes cardIn{
  from{transform:translateY(40px) scale(.9);opacity:0}
  to{transform:none;opacity:1}
}

h1{
  font-size:clamp(28px,4vw,48px);
  background:linear-gradient(90deg,var(--rose),var(--gold),var(--rose));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shine 4s linear infinite;
}

@keyframes shine{
  0%{background-position:0%}
  100%{background-position:200%}
}

input{
  padding:14px 20px;
  border-radius:999px;
  border:none;
  outline:none;
  width:70%;
  text-align:center;
  margin-bottom:20px;
  font-size:16px;
}

.button-zone{
  position:relative;
  width:min(520px,92%);
  height:150px;
  margin:0 auto;
}

button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 30px;
  font-size:18px;
  font-weight:700;
  border-radius:999px;
  border:none;
  cursor:pointer;
  transition:.15s ease;
  box-shadow:0 0 20px rgba(255,79,163,.6);
}

#yesBtn{
  left:18%;
  background:linear-gradient(45deg,var(--rose),var(--gold));
  color:#220015;
}

#yesBtn:hover{transform:translateY(-50%) scale(1.15)}

#noBtn{
  left:62%;
  background:#fff;
  color:#ff4fa3;
}

.hint{margin-top:12px;opacity:.7}

.result{display:none;margin-top:20px;animation:pop .4s ease;}

@keyframes pop{from{transform:scale(.8);opacity:0}to{transform:none;opacity:1}}

.heart{
  position:fixed;
  font-size:20px;
  animation:floatUp 10s linear infinite;
  opacity:.7;
}

@keyframes floatUp{
  from{transform:translateY(110vh) scale(.6)}
  to{transform:translateY(-10vh) scale(1.2)}
}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<main class="card">
  <input id="nameInput" placeholder="Enter your name üíå">
  <h1 id="question">Will you be my Valentine? üíñ</h1>

  <section class="button-zone" id="zone">
    <button id="yesBtn">Yes üíò</button>
    <button id="noBtn">No üôà</button>
  </section>

  <div class="hint" id="hint">No seems a little shy‚Ä¶ üòè</div>

  <section class="result" id="result">
    <h2>YAY!!! üéâüíû</h2>
    <img src="https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif" width="260">
    <p>Tap anywhere if music didn‚Äôt start üéµ</p>
  </section>
</main>

<audio id="music" preload="auto">
  <source src="<a href="https://">Music by <a href="https://pixabay.com/users/nastelbom-48128234/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=466198">Dmitrii Spis</a> from <a href="https://pixabay.com//?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=466198">Pixabay</a></a>" type="audio/mpeg">
</audio>

<script>
const zone=document.getElementById("zone");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const result=document.getElementById("result");
const hint=document.getElementById("hint");
const nameInput=document.getElementById("nameInput");
const question=document.getElementById("question");
const music=document.getElementById("music");

nameInput.oninput=()=>question.textContent=`${nameInput.value||"You"}, will you be my Valentine? üíñ`;

const confettiCanvas=document.getElementById("confettiCanvas");
function resize(){const dpr=Math.max(1,devicePixelRatio||1);confettiCanvas.width=innerWidth*dpr;confettiCanvas.height=innerHeight*dpr;}
resize();addEventListener("resize",resize);

const confettiInstance=confetti.create(confettiCanvas,{resize:false,useWorker:true});

function blast(){
 const end=Date.now()+1600;
 (function frame(){
  confettiInstance({particleCount:12,spread:120,origin:{x:Math.random(),y:Math.random()*0.3}});
  if(Date.now()<end)requestAnimationFrame(frame);
 })();
}

let scale=1;
function grow(){scale=Math.min(2.4,scale+.14);yesBtn.style.transform=`translateY(-50%) scale(${scale})`;}

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function moveNo(px,py){
 const z=zone.getBoundingClientRect();
 const b=noBtn.getBoundingClientRect();
 let dx=(b.left+b.width/2)-px;
 let dy=(b.top+b.height/2)-py;
 let mag=Math.hypot(dx,dy)||1;dx/=mag;dy/=mag;
 let nl=(b.left-z.left)+dx*150;
 let nt=(b.top-z.top)+dy*150;
 noBtn.style.left=clamp(nl,0,z.width-b.width)+"px";
 noBtn.style.top=clamp(nt,0,z.height-b.height)+"px";
 grow();
}

zone.addEventListener("pointermove",e=>{
 const b=noBtn.getBoundingClientRect();
 const d=Math.hypot((b.left+b.width/2)-e.clientX,(b.top+b.height/2)-e.clientY);
 if(d<140)moveNo(e.clientX,e.clientY);
});

function tryPlay(){
 music.play().catch(()=>{});
}

yesBtn.onclick=()=>{
 zone.style.display="none";
 hint.style.display="none";
 result.style.display="block";
 blast();
 tryPlay();
};

document.body.addEventListener("click",tryPlay,{once:true});

// Floating hearts
setInterval(()=>{
 const h=document.createElement("div");
 h.className="heart";
 h.textContent=Math.random()>.5?"üíñ":"‚ú®";
 h.style.left=Math.random()*100+"vw";
 h.style.animationDuration=(6+Math.random()*6)+"s";
 h.style.fontSize=(16+Math.random()*28)+"px";
 document.body.appendChild(h);
 setTimeout(()=>h.remove(),12000);
},500);
</script>
</body>
</html>

